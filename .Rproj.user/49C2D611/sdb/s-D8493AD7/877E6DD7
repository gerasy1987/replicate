{
    "collab_server" : "",
    "contents" : "#' @export\nprint.replication <- function(object, ...){\n  cat(paste0(unlist(attr(x = object, which = \"misc\")), collapse = \"\"), \"\\n\\n\")\n  x <- object\n  class(x) <- \"list\"\n  attributes(x) <- NULL\n  print(x)\n  invisible(object)\n}\n\n#' @export\nsummary.replication <- function(object,\n                                table = NULL,\n                                reported = FALSE,\n                                registered = FALSE,\n                                script = FALSE,\n                                desc = NULL,\n                                ...) {\n  if (is.null(table) & !script) {\n    out <- attr(x = object, which = \"misc\")\n\n    structure(out, class = c(\"summary.replication\"))\n  } else if (!is.null(table) & !script & any(reported, registered)) {\n    table_name <- paste0(unlist(strsplit(x = tolower(table), split = \" \")), collapse = \"_\")\n\n    attach(environment(object))\n    out <- eval(parse(text = object$tables[[table_name]]))\n    rep <- reg <- NULL\n    if (reported) rep <- which(do.call(cbind, out[\"model_status\",])[\"P\",])\n    if (registered) reg <- which(do.call(cbind, out[\"model_status\",])[\"R\",])\n\n    out <- list(\"Reported\" = out[,rep],\n                \"Registered\" = out[,reg])\n    attr(out, which = \"name\") <- table\n    detach(environment(object))\n\n    structure(out, class = c(\"summary.replication\", \"replication.table\"))\n  } else if (script & !any(reported, registered)) {\n    script_preamble <-\n      paste(\"####\\n## This is preamble code.\\n## Run it before the replication of your first table in the study.\\n####\",\n            paste0(\"ipak <- \", paste0(deparse(ipak), collapse = \"\\n\")),\n            paste0(\"ipak(\", paste0(deparse(object$packages), collapse = \"\"), \")\"),\n            paste(do.call(c, object$functions), collapse = \"\\n\\n\"),\n            sep = \"\\n\\n\")\n    if (is.null(table)) {\n      out <- c(preamble = script_preamble)\n    } else {\n      table_name <- paste0(unlist(strsplit(x = tolower(table), split = \" \")), collapse = \"_\")\n      out <- c(preamble = script_preamble,\n               table = paste0(\"####\\n## Below is the table replication code\\n####\\n\\n\",\n                              table_name, \" <- \", object$tables[[table_name]],\n                              \"\\n\\n\", table_name))\n    }\n    structure(out, class = c(\"summary.replication\", \"replication.script\"))\n  }\n}\n\n#' @export\nprint.summary.replication <- function(object, ...) {\n  if (\"replication.table\" %in% class(object)) {\n    class(object) <- \"list\"\n    cat(\"Results for\", attr(object, which = \"name\"), \"\\n\\n\")\n    for (i in 1:length(object)) {\n      if (length(object[[i]]) != 0) {\n        cat(names(object)[i], \":\\n\\n\")\n        for (j in (1:dim(object[[i]])[2])){\n          cat(colnames(object[[i]])[j],\"\\n\\n\")\n          print(object[[i]][[\"estimates\",j]])\n          cat(\"\\n\")\n          stats_specs <- c(object[[i]][[\"stat\",j]],object[[i]][[\"model_spec\",j]])\n          cat(paste(paste0(names(stats_specs), \" = \", stats_specs), collapse = \", \"), \"\\n\\n\")\n        }\n      }\n    }\n    invisible(object)\n  } else if (\"replication.script\" %in% class(object)) {\n    class(object) <- \"character\"\n    cat(object, sep = \"\\n\\n\")\n    invisible(object)\n  } else {\n    class(object) <- \"list\"\n    cat(unlist(object))\n    invisible(object)\n  }\n}\n\n\n",
    "created" : 1470349385491.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3717560379",
    "id" : "877E6DD7",
    "lastKnownWriteTime" : 1470530192,
    "last_content_update" : 1470530192889,
    "path" : "~/Google Drive/7 - Projects/replicate/summary.R",
    "project_path" : "summary.R",
    "properties" : {
        "chunk_rendered_width" : "650",
        "tempName" : "Untitled1"
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}